<div class="container-fluid">
  <nav class="navbar navbar-expand-lg fixed-top">
    <i class="far fa-building fa-5x"></i>
    <a class="navbar-brand" href="#">
      Archihub <br>Construction <br>Company
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-nav mt-2">
      <a class="nav-link btn-2" href="">Projects</a>
      <a class="nav-link btn-2" href="">Gallery</a>
      <a class="nav-link btn-2" href="">Contact</a>
    </div>
  </nav>

  <div class="banner d-flex justify-content-center align-items-center mt-3">
    <h1 class="ml-5 text-uppercase">{{company.name}}</h1>
  </div>


  <div class="slideshow-container">
    {{#each images}}
    <div class="mySlides fader" type="{{this.category}}">
      <div class="numbertext">1 / 3</div>
      <img src="/images/{{this.name}}" style="width:100%">
      <div class="text">{{this.caption}}</div>
    </div>
    {{/each}}
    <!-- Next and previous buttons -->
    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
    <a class="next" onclick="plusSlides(1)">&#10095;</a>


  </div>
  <div class="category">
    {{#each categories}}
    <div class="text-center">{{this}}</div>
    {{/each}}
  </div>
  <!-- The dots/circles -->
  <div class="mt-5" style="text-align:center">
    <span class="dot" onclick="currentSlide(1)"></span>
    <span class="dot" onclick="currentSlide(2)"></span>
    <span class="dot" onclick="currentSlide(3)"></span>
  </div>
  <section class="container mt-5 scroll-section">
    <h3>Mission</h3>
    <article class="text-center">
      {{company.mission}}
    </article>
    <br>
    <hr>
    <br>

  </section>

  <div class="content d-flex justify-content-around mx-5">
    <div class="mission">
      <h3>Objective</h3>
      <article class="text-center">{{company.objective}}</article>
    </div>
    <div class="vision">
      <h3>vision</h3>
      <article class="text-center">{{company.vision}}</article>
    </div>
  </div>

  <br>
  <hr>
  <br>

  <h2>Projects</h2>
  <br>
  <section class="container">
    <div class="card-deck">
      <div class="card">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional
            content.
            This content is a little bit longer.</p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Last updated 3 mins ago</small>
        </div>
      </div>
      <div class="card">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">This card has supporting text below as a natural lead-in to additional content.</p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Last updated 3 mins ago</small>
        </div>
      </div>
      <div class="card">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional
            content.
            This card has even longer content than the first to show that equal height action.</p>
        </div>
        <div class="card-footer">
          <small class="text-muted">Last updated 3 mins ago</small>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-center"><a href="http://" class="btn btn-project mt-5">Show More Projects</a>
    </div>
  </section>
  <br>
  <br>
  <footer>
    <div class="curved">
      <marquee behavior="" direction="">Awesome company Dedicated service</marquee>
    </div>

  </footer>
</div>
<script>

  var slideIndex = 1;
  showSlides(slideIndex);

  // Next/previous controls
  function plusSlides(n) {
    showSlides(slideIndex += n);
  }

  // Thumbnail image controls
  function currentSlide(n) {
    showSlides(slideIndex = n);
  }

  function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
  }

  const category = document.querySelector('.category');
  const divs = category.querySelectorAll("div");
  const allSilders = document.querySelectorAll('.mySlides')
  divs.forEach(div => {
    div.addEventListener('click', (e) => {
      let type = div.innerText;
      let newSlider = []
      allSilders.forEach(slider => {
        if (slider.getAttribute('type') == type) {
          newSlider.push(slider);
        }
      });
      allSilders.forEach(slider => slider.remove());
      let cont = document.querySelector('.slideshow-container')
      newSlider.forEach(slider => cont.insertBefore(slider, cont.childNodes[0]));
      newSlider[0].style.display = "block";
    });
  })

  //code for scrolling 
  //get the container section and get the the y-offset 
  const currentOffset = window.pageYOffset;
  const slideShow = document.querySelector('.slideshow-container')
  const navbar = document.querySelector('nav');

  //catch the window onScroll event 
  window.addEventListener('scroll', e => {
    if (window.pageYOffset > slideShow.offsetTop) {
      navbar.style.top = "0";
    } else {
      navbar.style.top = "-500px";
    }
  });


</script>